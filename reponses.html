<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réponses</title>
</head>

<body>
    <h1>Réponses</h1>

    <h2>Tank</h2>
    <table id="tankTable">

    </table>

    <h2>Heal</h2>
    <table id="healTable">
    </table>

    <h2>DPS</h2>
    <table id="dpsTable">
    </table>

    <div id="tankCount"></div>
    <div id="healCount"></div>
    <div id="dpsCount"></div>

    <script>
        // Récupérer les réponses stockées localement
        var storedResponses = JSON.parse(localStorage.getItem('responses')) || [];

        // Initialiser les compteurs de rôles
        var tankCount = 0;
        var healCount = 0;
        var dpsCount = 0;

        // Mettre à jour les tableaux pour chaque rôle
        var tankTable = document.getElementById("tankTable");
        var healTable = document.getElementById("healTable");
        var dpsTable = document.getElementById("dpsTable");

        storedResponses.forEach(function(response) {
            var pseudo = response.pseudo;
            var role = response.role;
            var className = response.question3;

            // Mettre à jour les compteurs de rôles
            if (role === "tank") {
                tankCount++;
                // Ajouter une ligne au tableau Tank
                var row = tankTable.insertRow(-1);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = pseudo;
                cell2.innerHTML = className;
            } else if (role === "heal") {
                healCount++;
                // Ajouter une ligne au tableau Heal
                var row = healTable.insertRow(-1);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = pseudo;
                cell2.innerHTML = className;
            } else if (role === "dps-distant" || role === "dps-cac") {
                dpsCount++;
                // Ajouter une ligne au tableau DPS
                var row = dpsTable.insertRow(-1);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = pseudo;
                cell2.innerHTML = className;
            }
        });

       // Afficher le nombre de personnes pour chaque rôle dans le HTML
        document.getElementById("tankCount").innerHTML = "Nombre de personnes dans le rôle Tank: " + tankCount;
        document.getElementById("healCount").innerHTML = "Nombre de personnes dans le rôle Heal: " + healCount;
        document.getElementById("dpsCount").innerHTML = "Nombre de personnes dans le rôle DPS: " + dpsCount;
    </script>
</body>

</html>
